<!-- /*
* Template Name: Blogy
* Template Author: Untree.co
* Template URI: https://untree.co/
* License: https://creativecommons.org/licenses/by/3.0/
*/ -->
{% extends 'base.html' %}
{% load static %}
{% block title %}Hello{% endblock %}
{% block content %}
  <style>
    .sidebar-box *:last-child {
      margin-bottom: 0;
    }
    {% comment %} button[type="submit"]{
      margin-top:15px;
      float:right;
    } {% endcomment %}
     .btn-primary {
      margin-top:15px;
      float:right;
      margin-bottom: 30px;
    }

    .post-entry-sidebar ul li a, 
    .post-entry-footer ul li a {
      display: table;
      color: #4D4C7D;
    }

    a,
    .btn {
      -webkit-transition: .3s all ease;
      -o-transition: .3s all ease;
      transition: .3s all ease;
      text-decoration: none;
    }

    post-entry-sidebar ul li,
    .post-entry-footer ul li {
      list-style: none;
      padding: 0 0 20px 0;
      margin: 0 0 20px 0;
    }

    .sidebar-box {
      margin-bottom: 4em;
      font-size: 15px;
      width: 100%;
      float: left;
      background: #fff;
    }

    .row {
      --bs-gutter-x: 1.5rem;
      --bs-gutter-y: 0;
      display: -webkit-box;
      display: -ms-flexbox;
      display: flex;
      -ms-flex-wrap: wrap;
      flex-wrap: wrap;
      margin-top: calc(-1 * var(--bs-gutter-y));
      margin-right: calc(-.5 * var(--bs-gutter-x));
      margin-left: calc(-.5 * var(--bs-gutter-x));
    }

    .comment-wrap .heading,
    .search-result-wrap .heading {
      font-size: 18px;
      color: #000;
      font-weight: 400;
      margin-bottom: 30px;
      padding-bottom: 20px;
      border-bottom: 1px solid #e6e6e6;
    }
    h1 {
      font-family: "Work Sans", sans-serif;
      letter-spacing: 5px;
    }


    .post-meta .author-figure img {
      width: 30px;
      border-radius: 50%;
    }

    .site-cover,
    .site-cover .same-height {
      padding: 5em 0 0 0;
    }

    .form-control-end {
      width:100%;
      height: 54px;
      border-color: rgba(0, 0, 0, 0.1);
      background-color: transparent !important;
      margin-bottom: 10px;
    }

    .sidebar {
      padding-left: 5em;
    }

    .bio img {
      max-width: 150px;
      border-radius: 50%;
    }

    .bio .bio-body h2,
    .bio .bio-body .h2 {
      color: #000;
      font-size: 20px;
    }

    h2 {
      letter-spacing: 0px;
    }


    .sidebar-box .heading {
      margin-top: 60px;
      font-size: 18px;
      color: #000;
      font-weight: 400;
      margin-bottom: 30px;
      padding-bottom: 20px;
      border-bottom: 1px solid #e6e6e6;
    }

    .post-entry-sidebar ul li a img,
    .post-entry-footer ul li a img {
      width: 90px;
    }

    .post-entry-sidebar ul li a,
    .post-entry-footer ul li a {
      display: table;
      color: #4D4C7D;
    }

    .post-entry-sidebar ul li a img,
    .post-entry-sidebar ul li a .text,
    .post-entry-footer ul li a img,
    .post-entry-footer ul li a .text {
      display: table-cell;
      vertical-align: middle;
    }

    .post-entry-sidebar ul li a .text h4,
    .post-entry-sidebar ul li a .text .h4,
    .post-entry-footer ul li a .text h4,
    .post-entry-footer ul li a .text .h4 {
      font-size: 18px;
    }

    .post-meta {
      border: none;
    }

    .post-entry-sidebar ul li,
    .post-entry-footer ul li {
      list-style: none;
      padding: 0 0 20px 0;
      margin: 0 0 20px 0;
    }

    .comment-list li .vcard img {
      width: 50px;
      border-radius: 50%;
    }

    .comment-list li .comment-body h3,
    .comment-list li .comment-body .h3 {
      font-size: 20px;
      color: #000;
      padding-bottom: 8px;
    }

    .comment-list li .comment-body {
      float: right;
      width: calc(100% - 80px);
    }

    .comment-list li {
      padding: 0;
      margin: 0 0 30px 0;
      float: left;
      width: 100%;
      clear: both;
      list-style: none;
    }

    .comment-list li .vcard {
      width: 80px;
      float: left;
    }

    .comment-list li .comment-body .meta {
      text-transform: none;
      color: #ccc;
    }

    .comment-list li .comment-body .reply {
      padding: 3px 10px;
      background: #f50537;
      color: #fff !important;
      color: #000;
      font-size: 13px;
    }

    .comment-list .children {
      padding: 50px 0 0 40px;
      margin: 0;
      float: left;
      width: 100%;
    }

    .section {
      padding-top: 4rem;
      padding-bottom: 4rem;
    }

    .text-black {
      --bs-text-opacity: 1;
      color: rgba(var(--bs-black-rgb), var(--bs-text-opacity)) !important;
    }

    .text-uppercase {
      text-transform: uppercase !important;
    }

    .img-fluid {
      max-width: 100%;
      height: auto;
      border-radius: 15px 50px;
    }

    .posts-entry .blog-entry h2 a,
    .posts-entry .blog-entry .h2 a {
      color: #4D4C7D;
    }

    a,
    .btn {
      -webkit-transition: .3s all ease;
      -o-transition: .3s all ease;
      transition: .3s all ease;
      text-decoration: none;
    }

    .posts-entry.posts-entry-sm .blog-entry h2,
    .posts-entry.posts-entry-sm .blog-entry .h2 {
      font-size: 18px;
    }

    h1,
    .h1,
    h2,
    .h2,
    h3,
    .h3,
    h4,
    .h4,
    h5,
    .h5,
    .logo {
      font-family: "Work Sans", sans-serif;
    }

    .posts-entry .blog-entry h2,
    .posts-entry .blog-entry .h2 {
      line-height: 1.3;
      font-size: 26px;
    }

    .read-more {
      border-bottom: 2px solid #214252;
    }

    a {
      color: #214252;

    }

    .form-control-search {
      height: 40px;

    }

    .btn-primary {
      color: #fff;
      background-color: #f50537;
      border-color: #f50537;
    }

    header {
      background-color: #060606;
      padding: 0;
      transition: all 0.4s ease 0s;
      height: 90px;
      display: grid;
      align-items: center;
      /* box-shadow: 0 3px 9px rgba(0, 0, 0, 0.05); */
    }

    header.nav-fixed {
      padding: 0;
      top: 0;
      background-color: var(--bg-color);
      height: 80px;
      border-bottom: none;
      box-shadow: 0 3px 6px 0 rgba(0, 0, 0, 0.05);
      z-index: 100 !important;
    }

    .like.liked {
      color: var(--primary-color);
    }
    
    font-family: 'Font Awesome 5 Free';
    font-weight: 900;
  </style>
<script>
  const csrf_token = "{{ csrf_token }}";
</script>
<body>
  



  <div class="site-cover site-cover-sm same-height overlay single-page"
    style="background-image: url('images/hero_5.jpg');">
    <div class="container">
      <div class="row same-height justify-content-center">
        <div class="col-md-6">
          <div class="post-entry text-center">
            <h1 class="mb-4">Taylor AD27E Flametop Review</h1>
            <div class="post-meta align-items-center text-center">
              <figure class="author-figure mb-0 me-3 d-inline-block"><img src="{% static '/images/single_blog/sb3.jpg' %}" alt="Image"
                  class="img-fluid"></figure>
              <span class="d-inline-block mt-1">By Admin</span>
              <span>&nbsp;-&nbsp; February 10, 2019</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <section class="section">
    <div class="container">

      <div class="row blog-entries element-animate">

        <div class="col-md-12 col-lg-8 main-content">

          <div class="post-content-body">
          
        
            <p>“Một thứ âm thanh không giống với bất kì thứ âm thanh nào mà Taylor đã tạo ra trước đây” là âm thanh của chiếc dreadnought Grand Pacific. Nghe hấp dẫn chứ? Chúng ta cùng tìm hiểu nhé.

              Chiếc đàn này đang được tiêu thụ trong một thị trường có tính cạnh tranh cao nhưng nếu bạn đang tìm kiếm một lựa chọn đúng đắn thì bạn nên tìm đến AD27e. Chắc chắn rằng bạn sẽ thực sự hài lòng.</p>
            <p>Phải thừa nhận rằng việc Taylor tự hào tuyên bố về nhạc cụ mới nhất của mình “không giống Taylor” là một bước đi khá táo bạo. Tuy nhiên, một khi bạn đã nhận thức được lý do đằng sau động thái này, bạn có thể sẽ hiểu rõ hơn đôi chút. Phần lớn liên quan đến các vấn đề về chuỗi cung ứng xảy ra hai năm trước và trong nhiều trường hợp thì sự cung ứng ấy vẫn đang tiếp diễn.

              Nguồn cung cấp gỗ Luthier đã bị ảnh hưởng bởi bụi phóng xạ do đại dịch toàn cầu gây ra cũng giống như bất kỳ mặt hàng thương mại nào khác.
              
              “Hãy nấu ăn với những gì ta sẵn có trong tủ lạnh” là sáng kiến khiến công ty phải xem xét lại tình hình và một cuộc khảo sát về các loại gỗ mà họ có trong kho đã cho thấy rằng Taylor có một nguồn cung phong phú về các loại gỗ.</p>
            <p>Phần còn lại phụ thuộc vào tầm nhìn và sự khéo léo của nghệ nhân Andy Powers, người đã lập luận rằng mặc dù maple là một lựa chọn kém cạnh so với những loại gỗ cao cấp, trái ngược với spruce hoặc cedar nhưng cũng không có lý do gì khiến một cây đàn thân gỗ maple không được gọi là “hàng xịn” nếu nó được giao cho một số chuyên gia xử lý và có thể chứng minh giá trị của nó trong giai đoạn sơ bộ.</p>
            <div class="row my-4">
              <div class="col-md-12 mb-4">
                <img src="{% static '/images/single_blog/sb1.jpg' %}" alt="Image placeholder" class="img-fluid rounded">
              </div>
              <div class="col-md-6 mb-4">
                <img src="{% static '/images/single_blog/sb2.jpg' %}" alt="Image placeholder" class="img-fluid rounded">
              </div>
              <div class="col-md-6 mb-4">
                <img src="{% static '/images/single_blog/sb3.jpg' %}" alt="Image placeholder" class="img-fluid rounded">
              </div>
            </div>
            <p>Tinh chỉnh gỗ maple đã đưa ra một loạt thách thức. Trong đó Andy giải thích lý do tại sao maple có thể gây “lăn tăn” khi được sử dụng: Sau khi gỗ đã được xử lý, người ta nhận thấy rằng nó tạo ra âm sắc hoàn toàn khác với âm thanh tiêu chuẩn của Taylor.</p>
            <p>Được mô tả là "sẫm màu và nhám hơn", nó khác xa với âm thanh có "độ trung thực cao" mà người ta biết về guitar Taylor trước đó. Ngoài ra, họ càng lắng nghe những gì họ có thể sản xuất, thì nó càng giống như một mảnh ghép còn thiếu trong những “dự án âm thanh” của công ty.</p>
            <p>Một âm thanh khàn khàn, mộc mạc có thể thu hút những người chơi đang tìm kiếm một nhạc cụ thỏa mãn được “bản chất” dòng nhạc mà họ theo đuổi: Americana hoặc country blues.</p>
            <p>Và vì vậy, tóm lại, những gì chúng ta có ngày hôm nay là một cây guitar Taylor hoàn toàn mới với lớp gỗ phủ hơi khác biệt một chút và tạo ra sự bất ngờ đột phá về giai điệu cho người chơi. Cùng tìm hiểu sâu hơn một chút nhé.</p>

            <p>AD27e được trang bị bộ thu và tiền khuếch đại Expression System 2 (đã được thử nghiệm và đáng tin cậy). Nếu bạn mong muốn một cây đàn ổn định có thể biểu trên sân khấu với chi phí thấp thì đây là một lựa chọn tuyệt vời đáp ứng đủ và làm hài lòng người chơi.</p>
          </div>


          <div class="pt-5">
            <p>Categories: <a href="#">Food</a>, <a href="#">Travel</a> Tags: <a href="#">#manila</a>, <a
                href="#">#asia</a></p>
          </div>


          <div class="pt-5 comment-wrap">
            <h3 id="commentCount" class="mb-5 heading">{{ comment_count }} Comments</h3>
              <form method="post" id="commentForm" action="{% url 'blog_comment' post_title=post.title %}" class="">
                {% csrf_token %}
                <input type="hidden" name="post_title" value="{{ post.title }}">
                {% if form.errors %}
                    <div class="alert alert-danger" role="alert">
                        <strong>Form is not valid. Errors:</strong>
                        {{ form.errors }}
                    </div>
                {% endif %}
                <textarea name="content" id="content" cols="1" rows="1" class="form-control"></textarea>
                <button type="submit" class="btn btn-primary">
                  <i class="fas fa-arrow-right"></i>
                </button>
              </form>  
            <ul id="commentList" class="comment-list">
              {% for comment in comments %}
                  <li class="comment">
                      <div class="vcard">
                          <img src="/assets/images/person_1.jpg" alt="Image placeholder">
                      </div>
                      <div class="comment-body">
                          <h3>{{ comment.author.username }}</h3>
                          <div class="meta">{{ comment.created_at }}</div>
                          <p>{{ comment.content }}</p>
                          <p>
                              <a href="#" class="like rounded {% if user in comment.likes.all %}liked{% endif %}"
                                  onclick="toggleLike('{{ post.title }}', {{ comment.id }}, event)">
                                  <i class="fas fa-heart"></i> 
                                  <span id="likeCount{{ comment.id }}">{{ comment.likes.count }}</span>
                              </a>
                          </p>
                      </div>
                  </li>
              {% endfor %}
            </ul>
          </div>

        </div>

        <!-- END main-content -->

        <div class="col-md-12 col-lg-4 sidebar">

          <!-- END sidebar-box -->
          <div class="sidebar-box">
            <div class="bio text-center">
              <img src="{% static '/images/single_blog/sb3.jpg' %}" alt="Image Placeholder" class="img-fluid mb-3">
              <div class="bio-body">
                <h2>Hannah Anderson</h2>
                <p class="mb-4">Chào mừng đến với trang web nhạc cụ! Tôi là Admin, người sẽ hỗ trợ bạn trong hành trình khám phá và tận hưởng âm nhạc tuyệt vời. </p>
              
                <p class="social">
                  <a href="#" class="p-2"><span class="fa fa-facebook"></span></a>
                  <a href="#" class="p-2"><span class="fa fa-twitter"></span></a>
                  <a href="#" class="p-2"><span class="fa fa-instagram"></span></a>
                  <a href="#" class="p-2"><span class="fa fa-youtube-play"></span></a>
                </p>
              </div>
            </div>
          </div>
          <!-- END sidebar-box -->
          <div class="sidebar-box">
            <h3 class="heading">Popular Posts</h3>
            <div class="post-entry-sidebar">
              <ul>
                <li>
                  <a href="">
                    <img src="{% static '/images/single_blog/sb4.jpg' %}" alt="Image placeholder" class="me-4 rounded">
                    <div class="text">
                      <h4>There’s a Cool New Way for Men to Wear Socks and Sandals</h4>
                      <div class="post-meta">
                        <span class="mr-2">March 15, 2018 </span>
                      </div>
                    </div>
                  </a>
                </li>
                <li>
                  <a href="">
                    <img src="{% static '/images/single_blog/sb5.jpg' %}" alt="Image placeholder" class="me-4 rounded">
                    <div class="text">
                      <h4>There’s a Cool New Way for Men to Wear Socks and Sandals</h4>
                      <div class="post-meta">
                        <span class="mr-2">March 15, 2018 </span>
                      </div>
                    </div>
                  </a>
                </li>
                <li>
                  <a href="">
                    <img src="{% static '/images/single_blog/sb6.jpg' %}" alt="Image placeholder" class="me-4 rounded">
                    <div class="text">
                      <h4>There’s a Cool New Way for Men to Wear Socks and Sandals</h4>
                      <div class="post-meta">
                        <span class="mr-2">March 15, 2018 </span>
                      </div>
                    </div>
                  </a>
                </li>
              </ul>
            </div>
          </div>
          <!-- END sidebar-box -->
        </div>
      </div>
    </div>
  </section>


  <!-- Start posts-entry -->
  <section class="section posts-entry posts-entry-sm bg-light">
    <div class="container">
      <div class="row mb-4">
        <div class="col-12 text-uppercase text-black">More Blog Posts</div>
      </div>
      <div class="row">
        <div class="col-md-6 col-lg-3">
          <div class="blog-entry">
            <a href="single.html" class="img-link">
              <img src="{% static '/images/single_blog/sb3.jpg' %}"alt="Image" class="img-fluid">
            </a>
            <span class="date">Apr. 14th, 2022</span>
            <h2><a href="single.html">Thought you loved Python? Wait until you meet Rust</a></h2>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
            <p><a href="#" class="read-more">Continue Reading</a></p>
          </div>
        </div>
        <div class="col-md-6 col-lg-3">
          <div class="blog-entry">
            <a href="single.html" class="img-link">
              <img src="{% static '/images/single_blog/sb4.jpg' %}" alt="Image" class="img-fluid">
            </a>
            <span class="date">Apr. 14th, 2022</span>
            <h2><a href="single.html">Startup vs corporate: What job suits you best?</a></h2>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
            <p><a href="#" class="read-more">Continue Reading</a></p>
          </div>
        </div>
        <div class="col-md-6 col-lg-3">
          <div class="blog-entry">
            <a href="single.html" class="img-link">
              <img src="{% static '/images/single_blog/sb3.jpg' %}" alt="Image" class="img-fluid">
            </a>
            <span class="date">Apr. 14th, 2022</span>
            <h2><a href="single.html">UK sees highest inflation in 30 years</a></h2>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
            <p><a href="#" class="read-more">Continue Reading</a></p>
          </div>
        </div>
        <div class="col-md-6 col-lg-3">
          <div class="blog-entry">
            <a href="single.html" class="img-link">
              <img src="{% static '/images/single_blog/sb6.jpg' %}" alt="Image" class="img-fluid">
            </a>
            <span class="date">Apr. 14th, 2022</span>
            <h2><a href="single.html">Don’t assume your user data in the cloud is safe</a></h2>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
            <p><a href="#" class="read-more">Continue Reading</a></p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <script>
    document.getElementById('commentForm').addEventListener('submit', function (event) {
        event.preventDefault();
        const formData = new FormData(this);

        fetch(this.action, {
            method: 'POST',
            credentials: 'same-origin',
            headers: {
                'X-CSRFToken': csrf_token,
            },
            body: formData,
        })
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(data => {
            // Update comment list with the new comment
            const commentList = document.getElementById('commentList');
            commentList.innerHTML = data.comments_html;
            const commentCountElement = document.getElementById('commentCount');
            commentCountElement.textContent = `${data.comment_count} Comments`;
            // Clear the form
            this.reset();
        })
        .catch(error => console.error('Error submitting comment:', error));
    });


  </script>



    
  <script>
    function toggleLike(postTitle, commentId, event) {
      event.preventDefault();

      const likeCountElement = document.querySelector(`#likeCount${commentId}`);
      const likeLinkElement = likeCountElement.closest('a');

      fetch(`/blog/${postTitle}/comment/${commentId}/like/`, {
          method: 'POST',
          credentials: 'same-origin',
          headers: {
              'Content-Type': 'application/json',
              'X-CSRFToken': csrf_token,
          },
          body: JSON.stringify({}),
      })
      .then(response => response.json())
      .then(data => {
          console.log('Before Update - isLiked:', likeLinkElement.classList.contains('liked'));

          likeCountElement.textContent = data.like_count;

          // Kiểm tra xem có thích hay không
          const isLiked = data.is_liked;

          console.log('After Update - isLiked:', isLiked);

          // Cập nhật class 'liked' để giữ màu trái tim
          if (isLiked) {
              console.log('Adding class "liked"');
              likeLinkElement.classList.add('liked');
          } else {
              console.log('Removing class "liked"');
              likeLinkElement.classList.remove('liked');
          }
      })
      .catch(error => {
          console.error('Lỗi trong yêu cầu AJAX:', error);
      });
    }
  </script> 
{% endblock %}